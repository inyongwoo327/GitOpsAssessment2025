┌────────────────────────────────────────────────────────────────────────────┐
│                         AWS Cloud (eu-west-1)                              │
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────────┐ │
│  │                     VPC: 10.0.0.0/16                                 │ │
│  │                                                                       │ │
│  │  ┌─────────────────────────────────────────────────────────────────┐│ │
│  │  │          Public Subnet: 10.0.1.0/24 (eu-west-1a)               ││ │
│  │  │                                                                  ││ │
│  │  │  ┌──────────────────────────────────────────────────────────┐  ││ │
│  │  │  │          🎛️  High-Availability Control Plane            │  ││ │
│  │  │  │                                                           │  ││ │
│  │  │  │   ┌────────────────────┐    ┌────────────────────┐      │  ││ │
│  │  │  │   │  Master Primary    │◄──►│ Master Secondary   │      │  ││ │
│  │  │  │   │  • K3s Server      │    │ • K3s Server       │      │  ││ │
│  │  │  │   │  • etcd embedded   │etcd│ • etcd embedded    │      │  ││ │
│  │  │  │   │  • API Server      │sync│ • API Server       │      │  ││ │
│  │  │  │   │  • Scheduler       │    │ • Scheduler        │      │  ││ │
│  │  │  │   │  • Controller Mgr  │    │ • Controller Mgr   │      │  ││ │
│  │  │  │   │                    │    │                    │      │  ││ │
│  │  │  │   │  Type: t3.medium   │    │  Type: t3.medium   │      │  ││ │
│  │  │  │   │  IP: 3.255.246.0   │    │  IP: 52.210.71.243 │      │  ││ │
│  │  │  │   └────────┬───────────┘    └────────┬───────────┘      │  ││ │
│  │  │  │            │                          │                  │  ││ │
│  │  │  └────────────┼──────────────────────────┼──────────────────┘  ││ │
│  │  │               │                          │                     ││ │
│  │  │               └───────────┬──────────────┘                     ││ │
│  │  │                           │                                    ││ │
│  │  │                           │ Workload Distribution              ││ │
│  │  │                           │                                    ││ │
│  │  │  ┌────────────────────────┴────────────────────────────────┐  ││ │
│  │  │  │              ⚙️  Worker Nodes                          │  ││ │
│  │  │  │                                                          │  ││ │
│  │  │  │   ┌──────────────────┐      ┌──────────────────┐       │  ││ │
│  │  │  │   │   Worker 1       │      │   Worker 2       │       │  ││ │
│  │  │  │   │  • K3s Agent     │      │  • K3s Agent     │       │  ││ │
│  │  │  │   │  • kubelet       │      │  • kubelet       │       │  ││ │
│  │  │  │   │  • kube-proxy    │      │  • kube-proxy    │       │  ││ │
│  │  │  │   │                  │      │                  │       │  ││ │
│  │  │  │   │  Type: t3.small  │      │  Type: t3.small  │       │  ││ │
│  │  │  │   │  IP: 34.254...   │      │  IP: 52.215...   │       │  ││ │
│  │  │  │   └──────────────────┘      └──────────────────┘       │  ││ │
│  │  │  │                                                          │  ││ │
│  │  │  └──────────────────────────────────────────────────────────┘  ││ │
│  │  │                                                                 ││ │
│  │  │  ┌──────────────────────────────────────────────────────────┐  ││ │
│  │  │  │         📦 Application Workloads (Pods)                 │  ││ │
│  │  │  │                                                          │  ││ │
│  │  │  │  ┌────────────────────────────────────────────────────┐│  ││ │
│  │  │  │  │  📊 Monitoring Namespace                          ││  ││ │
│  │  │  │  │  ┌──────────┐ ┌─────────┐ ┌──────────────┐      ││  ││ │
│  │  │  │  │  │Prometheus│ │ Grafana │ │ AlertManager │      ││  ││ │
│  │  │  │  │  │  :30090  │ │ :30300  │ │    :30093    │      ││  ││ │
│  │  │  │  │  └──────────┘ └─────────┘ └──────────────┘      ││  ││ │
│  │  │  │  │  ┌────────────────┐ ┌──────────────────┐        ││  ││ │
│  │  │  │  │  │ Node Exporters │ │kube-state-metrics│        ││  ││ │
│  │  │  │  │  └────────────────┘ └──────────────────┘        ││  ││ │
│  │  │  │  └────────────────────────────────────────────────────┘│  ││ │
│  │  │  │                                                          │  ││ │
│  │  │  │  ┌────────────────────────────────────────────────────┐│  ││ │
│  │  │  │  │  🌐 WordPress Namespace                           ││  ││ │
│  │  │  │  │  ┌───────────┐       ┌────────────┐              ││  ││ │
│  │  │  │  │  │ WordPress │◄─────►│  MariaDB   │              ││  ││ │
│  │  │  │  │  │  :30080   │       │            │              ││  ││ │
│  │  │  │  │  └───────────┘       └────────────┘              ││  ││ │
│  │  │  │  └────────────────────────────────────────────────────┘│  ││ │
│  │  │  └──────────────────────────────────────────────────────────┘  ││ │
│  │  │                                                                 ││ │
│  │  └─────────────────────────────────────────────────────────────────┘│ │
│  │                                                                      │ │
│  │  ┌─────────────────────────────────────────────────────────────┐   │ │
│  │  │              🔒 Security Group                              │   │ │
│  │  │  Inbound Rules:                                             │   │ │
│  │  │  • SSH (22) ← YOUR_IP                                       │   │ │
│  │  │  • K8s API (6443) ← 0.0.0.0/0                              │   │ │
│  │  │  • HTTP (80), HTTPS (443) ← 0.0.0.0/0                      │   │ │
│  │  │  • NodePorts (30000-32767) ← 0.0.0.0/0                     │   │ │
│  │  │  • All traffic ← VPC (10.0.0.0/16)                         │   │ │
│  │  │  Outbound: All traffic allowed                             │   │ │
│  │  └─────────────────────────────────────────────────────────────┘   │ │
│  │                                                                      │ │
│  │  ┌─────────────────────────────────────────────────────────────┐   │ │
│  │  │              🌐 Internet Gateway                             │   │ │
│  │  └─────────────────────────────────────────────────────────────┘   │ │
│  │                             │                                        │ │
│  └─────────────────────────────┼────────────────────────────────────────┘ │
│                                │                                          │
└────────────────────────────────┼──────────────────────────────────────────┘
                                 │
                                 ▼
                          🌍 Internet
                                 │
                    ┌────────────┴───────────────┐
                    │                            │
           ┌────────▼────────┐         ┌────────▼────────┐
           │   👤 Users      │         │  💻 Operators   │
           │                 │         │                 │
           │ • WordPress     │         │ • Grafana       │
           │ • Prometheus    │         │ • Prometheus    │
           │ • AlertManager  │         │ • kubectl       │
           └─────────────────┘         └─────────────────┘


┌────────────────────────────────────────────────────────────────────────────┐
│                          📁 Repository Structure                           │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  week11/                                                                   │
│  ├── 📄 README.md                    ← Project overview                   │
│  ├── 📄 .gitignore                   ← Git exclusions                     │
│  ├── 📄 destroy.sh                   ← Cleanup script                     │
│  │                                                                         │
│  ├── 📁 terraform/                   ← Infrastructure as Code             │
│  │   ├── 📄 main.tf                  ← Root orchestration                 │
│  │   ├── 📄 variables.tf             ← Input variables                    │
│  │   ├── 📄 outputs.tf               ← Output values                      │
│  │   ├── 📄 provider.tf              ← AWS provider config                │
│  │   ├── 📄 backend.tf               ← S3 backend config                  │
│  │   ├── 📄 terraform.tfvars.example ← Configuration template             │
│  │   │                                                                     │
│  │   └── 📁 modules/                 ← Reusable modules                   │
│  │       ├── 📁 network/             ← VPC, Subnets, SG                   │
│  │       │   ├── main.tf                                                  │
│  │       │   ├── variables.tf                                             │
│  │       │   └── outputs.tf                                               │
│  │       │                                                                 │
│  │       ├── 📁 k3s-ha-cluster/      ← K3s HA setup                       │
│  │       │   ├── main.tf                                                  │
│  │       │   ├── variables.tf                                             │
│  │       │   └── outputs.tf                                               │
│  │       │                                                                 │
│  │       └── 📁 monitoring/          ← Prometheus stack                   │
│  │           ├── main.tf                                                  │
│  │           ├── variables.tf                                             │
│  │           └── outputs.tf                                               │
│  │                                                                         │
│  ├── 📁 scripts/                     ← Deployment scripts                 │
│  │   ├── 📁 deployment/                                                   │
│  │   │   ├── deploy_monitoring.sh                                         │
│  │   │   ├── deploy_wordpress.sh                                          │
│  │   │   ├── upload_and_deploy.sh                                         │
│  │   │   └── wordpress_deployment_remote.sh                               │
│  │   │                                                                     │
│  │   └── 📁 utils/                                                        │
│  │       ├── get_kubeconfig.sh                                            │
│  │       └── wait_for_cluster.sh                                          │
│  │                                                                         │
│  ├── 📁 bootstrap/                   ← Backend infrastructure             │
│  │   ├── bootstrap.tf                                                     │
│  │   ├── variables.tf                                                     │
│  │   ├── destroy.sh                                                       │
│  │   └── README.md                                                        │
│  │                                                                         │
│  └── 📁 docs/                        ← Documentation                      │
│      ├── ARCHITECTURE.md                                                  │
│      ├── DEPLOYMENT.md                                                    │
│      └── TROUBLESHOOTING.md                                               │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘